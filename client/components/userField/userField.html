<div class="form-group" ng-class="{ 'has-success': form['{{name}}'].$valid && vm.submitted,
                                    'has-error': form['{{name}}'].$invalid && vm.submitted }">
  <label>{{label}}</label>

  <input type="text" name="{{name}}" class="form-control" ng-model="model"
         required/>
  <p class="help-block" ng-show="form['{{name}}'].$error.required && vm.submitted">
    {{label}} is required
  </p>
</div>
